import{_ as t,o as a,c as e,e as i}from"./app-5de3c553.js";const s={},n=i('<h2 id="一个让人烦躁的bug" tabindex="-1"><a class="header-anchor" href="#一个让人烦躁的bug" aria-hidden="true">#</a> 一个让人烦躁的bug</h2><p>  今天写代码，一个简单的查询，总是出现++java.math.BigDecimal cannot be cast to java.lang.Integer++，项目是热部署的，以为是缓存，清除一遍又一遍还是无效。我试着用toString方法转字符串然后转int，结果出现了异常，但是注释掉的代码可以运行</p><p><img src="https://i.loli.net/2020/03/14/2zCrRnfDEuaKFlt.png" alt="转换异常">，看不出哪里有异常转换，我也有点好奇Map&lt;String, Integer&gt;是怎么变成Map&lt;String, BigDecimal&gt;的。<br><img src="https://i.loli.net/2020/03/14/GvNLp9oMh2qQsmy.png" alt="类型变化"><br> 我手动写了一个Map&lt;String, Integer&gt;尝试放入一个BigDecimal，结果编译失败了！</p><p><img src="https://i.loli.net/2020/03/14/ETqiF5OfxA4edSN.png" alt="编译失败"></p><p>查询使用了mybatis3.2.6框架（不是plus）， resultType=“java.util.Map”<br> 下面是sql</p><figure class="highlight sql"><figcaption data-lang="sql"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>select MONTH(日期) as month,SUM(amount) AS total FROM `销售` where YEAR(日期) = #{year} GROUP BY MONTH(日期);</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure>',6),l=[n];function c(r,p){return a(),e("div",null,l)}const g=t(s,[["render",c],["__file","49af668f.html.vue"]]);export{g as default};
