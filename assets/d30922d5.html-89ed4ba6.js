import{_ as n,r as i,o as p,c as s,a as r,b as a,w as e,d as t,e as l}from"./app-5de3c553.js";const o={},c={class:"note primary"},u=r("strong",null,"💌依赖插件",-1),m=l('<div class="note warning"><p>请务必将hexo-renderer-multi-markdown-it升级到最新版，目前为 0.1.5</p></div><p>Theme Shoka依赖以下Hexo插件</p><table><thead><tr><th>插件名称</th><th>npm地址</th><th>功能</th><th>依赖程度</th></tr></thead><tbody><tr><td>hexo-renderer-multi-markdown-it</td><td><a href="https://www.npmjs.com/package/hexo-renderer-multi-markdown-it" target="_blank" rel="noopener noreferrer">链接</a></td><td>md文件渲染器，压缩css/js/html</td><td>必需</td></tr><tr><td>hexo-autoprefixer</td><td><a href="https://www.npmjs.com/package/hexo-autoprefixer" target="_blank" rel="noopener noreferrer">链接</a></td><td>给生成的css文件们添加浏览器前缀</td><td>必需</td></tr><tr><td>hexo-algoliasearch</td><td><a href="https://www.npmjs.com/package/hexo-algoliasearch" target="_blank" rel="noopener noreferrer">链接</a></td><td>站内搜索功能</td><td>搜索按钮失灵</td></tr><tr><td>hexo-symbols-count-time</td><td><a href="https://www.npmjs.com/package/hexo-symbols-count-time" target="_blank" rel="noopener noreferrer">链接</a></td><td>文章或站点字数及阅读时间统计</td><td>统计没有</td></tr><tr><td>hexo-feed</td><td><a href="https://www.npmjs.com/package/hexo-feed" target="_blank" rel="noopener noreferrer">链接</a></td><td>生成Feed文件</td><td>Feed文件没有</td></tr></tbody></table><blockquote><p>没有正确安装以上插件的话，本主题会报错or无法正确显示or部分功能失效。<br><code>hexo-renderer-multi-markdown-it</code>请注意升级到最新版</p></blockquote><p>安装完以上插件后，修改站点配置文件，加入相关配置。</p><h1 id="multi-markdown-it安装与配置" tabindex="-1"><a class="header-anchor" href="#multi-markdown-it安装与配置" aria-hidden="true">#</a> multi-markdown-it安装与配置</h1><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><ol><li><p>安装前，记得务必卸载掉默认的<code>hexo-renderer-marked</code>，以及别的markdown文件渲染器。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>npm un hexo-renderer-marked --save</pre></td></tr><tr><td data-num="2"></td><td><pre># 或者</pre></td></tr><tr><td data-num="3"></td><td><pre>yarn remove hexo-renderer-marked</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure></li><li><p>安装</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>npm i hexo-renderer-multi-markdown-it --save</pre></td></tr><tr><td data-num="2"></td><td><pre># 或者</pre></td></tr><tr><td data-num="3"></td><td><pre>yarn add hexo-renderer-multi-markdown-it</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure></li><li><p>如果安装缓慢，或者失败<br> 如报错</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>ERROR: Failed to download Chromium r515411! Set &quot;PUPPETEER_SKIP_CHROMIUM_DOWNLOAD&quot; env variable to skip download.</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><p>因为有一步需要下载puppeteer里的Chromium内核，基于天朝内部网络现状，这一步能不能成功要靠科学和运气，所以为了避免安装失败，需要加上<code>--ignore-scripts</code>跳过Chromium内核的下载。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>npm i hexo-renderer-multi-markdown-it --save --ignore-scripts</pre></td></tr><tr><td data-num="2"></td><td><pre># 或者</pre></td></tr><tr><td data-num="3"></td><td><pre>yarn add hexo-renderer-multi-markdown-it --ignore-scripts</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><p>puppeteer主要是用来渲染mermaid流程图，只要文章中不使用mermaid就没有任何问题，如果要使用mermaid建议还是想办法完全安装。</p></li></ol><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><ol><li>加入<code>markdown</code>配置，用来渲染md文件</li></ol><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>markdown:</pre></td></tr><tr><td data-num="2"></td><td><pre>  render: # 渲染器设置</pre></td></tr><tr><td data-num="3"></td><td><pre>    html: false # 过滤 HTML 标签</pre></td></tr><tr><td data-num="4"></td><td><pre>    xhtmlOut: true # 使用 &#39;/&#39; 来闭合单标签 （比如 &lt;br /&gt;）。</pre></td></tr><tr><td data-num="5"></td><td><pre>    breaks: true # 转换段落里的 &#39;\\n&#39; 到 &lt;br&gt;。</pre></td></tr><tr><td data-num="6"></td><td><pre>    linkify: true # 将类似 URL 的文本自动转换为链接。</pre></td></tr><tr><td data-num="7"></td><td><pre>    typographer: </pre></td></tr><tr><td data-num="8"></td><td><pre>    quotes: &#39;“”‘’&#39;</pre></td></tr><tr><td data-num="9"></td><td><pre>  plugins: # markdown-it插件设置</pre></td></tr><tr><td data-num="10"></td><td><pre>    - plugin:</pre></td></tr><tr><td data-num="11"></td><td><pre>        name: markdown-it-toc-and-anchor</pre></td></tr><tr><td data-num="12"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="13"></td><td><pre>        options: # 文章目录以及锚点应用的class名称，shoka主题必须设置成这样</pre></td></tr><tr><td data-num="14"></td><td><pre>          tocClassName: &#39;toc&#39;</pre></td></tr><tr><td data-num="15"></td><td><pre>          anchorClassName: &#39;anchor&#39;</pre></td></tr><tr><td data-num="16"></td><td><pre>    - plugin:</pre></td></tr><tr><td data-num="17"></td><td><pre>        name: markdown-it-multimd-table</pre></td></tr><tr><td data-num="18"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="19"></td><td><pre>        options:</pre></td></tr><tr><td data-num="20"></td><td><pre>          multiline: true</pre></td></tr><tr><td data-num="21"></td><td><pre>          rowspan: true</pre></td></tr><tr><td data-num="22"></td><td><pre>          headerless: true</pre></td></tr><tr><td data-num="23"></td><td><pre>    - plugin:</pre></td></tr><tr><td data-num="24"></td><td><pre>        name: ./markdown-it-furigana</pre></td></tr><tr><td data-num="25"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="26"></td><td><pre>        options:</pre></td></tr><tr><td data-num="27"></td><td><pre>          fallbackParens: &quot;()&quot;</pre></td></tr><tr><td data-num="28"></td><td><pre>    - plugin:</pre></td></tr><tr><td data-num="29"></td><td><pre>        name: ./markdown-it-spoiler</pre></td></tr><tr><td data-num="30"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="31"></td><td><pre>        options:</pre></td></tr><tr><td data-num="32"></td><td><pre>          title: &quot;你知道得太多了&quot;</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><ol start="2"><li>加入<code>minify</code>配置，压缩css/js/html</li></ol><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>minify:</pre></td></tr><tr><td data-num="2"></td><td><pre>  html:</pre></td></tr><tr><td data-num="3"></td><td><pre>    enable: true</pre></td></tr><tr><td data-num="4"></td><td><pre>    exclude: # 排除hexo-feed用到的模板文件</pre></td></tr><tr><td data-num="5"></td><td><pre>      - &#39;**/json.ejs&#39;</pre></td></tr><tr><td data-num="6"></td><td><pre>      - &#39;**/atom.ejs&#39;</pre></td></tr><tr><td data-num="7"></td><td><pre>      - &#39;**/rss.ejs&#39;</pre></td></tr><tr><td data-num="8"></td><td><pre>  css:</pre></td></tr><tr><td data-num="9"></td><td><pre>    enable: true</pre></td></tr><tr><td data-num="10"></td><td><pre>    exclude:</pre></td></tr><tr><td data-num="11"></td><td><pre>      - &#39;**/*.min.css&#39;</pre></td></tr><tr><td data-num="12"></td><td><pre>  js:</pre></td></tr><tr><td data-num="13"></td><td><pre>    enable: true</pre></td></tr><tr><td data-num="14"></td><td><pre>    mangle:</pre></td></tr><tr><td data-num="15"></td><td><pre>      toplevel: true</pre></td></tr><tr><td data-num="16"></td><td><pre>    output:</pre></td></tr><tr><td data-num="17"></td><td><pre>    compress:</pre></td></tr><tr><td data-num="18"></td><td><pre>    exclude:</pre></td></tr><tr><td data-num="19"></td><td><pre>      - &#39;**/*.min.js&#39;</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><ol start="3"><li>停用默认代码高亮功能，否则代码块的mac样式不能正常显示。<br> 找到<code>highlight</code>和<code>prismjs</code>，把<code>enable</code>改成<code>false</code>。</li></ol><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>highlight:</pre></td></tr><tr><td data-num="2"></td><td><pre>  enable: false</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>prismjs:</pre></td></tr><tr><td data-num="5"></td><td><pre>  enable: false</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><h1 id="autoprefixer配置建议" tabindex="-1"><a class="header-anchor" href="#autoprefixer配置建议" aria-hidden="true">#</a> autoprefixer配置建议</h1><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>autoprefixer:</pre></td></tr><tr><td data-num="2"></td><td><pre>  exclude:</pre></td></tr><tr><td data-num="3"></td><td><pre>    - &#39;*.min.css&#39;</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><p>缺少这个插件，首页卡片翻转效果在部分浏览器中无法正确显示。</p><h1 id="algolia配置建议" tabindex="-1"><a class="header-anchor" href="#algolia配置建议" aria-hidden="true">#</a> algolia配置建议</h1><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>algolia:</pre></td></tr><tr><td data-num="2"></td><td><pre>  appId: #Your appId</pre></td></tr><tr><td data-num="3"></td><td><pre>  apiKey: #Your apiKey</pre></td></tr><tr><td data-num="4"></td><td><pre>  adminApiKey: #Your adminApiKey</pre></td></tr><tr><td data-num="5"></td><td><pre>  chunkSize: 5000</pre></td></tr><tr><td data-num="6"></td><td><pre>  indexName: #&quot;shoka&quot;</pre></td></tr><tr><td data-num="7"></td><td><pre>  fields:</pre></td></tr><tr><td data-num="8"></td><td><pre>    - title #必须配置</pre></td></tr><tr><td data-num="9"></td><td><pre>    - path #必须配置</pre></td></tr><tr><td data-num="10"></td><td><pre>    - categories #推荐配置</pre></td></tr><tr><td data-num="11"></td><td><pre>    - content:strip:truncate,0,2000</pre></td></tr><tr><td data-num="12"></td><td><pre>    - gallery</pre></td></tr><tr><td data-num="13"></td><td><pre>    - photos</pre></td></tr><tr><td data-num="14"></td><td><pre>    - tags</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure><h1 id="feed配置建议" tabindex="-1"><a class="header-anchor" href="#feed配置建议" aria-hidden="true">#</a> feed配置建议</h1><figure class="highlight yaml"><figcaption data-lang="yaml"></figcaption><div class="code-container"><table><tr><td data-num="1"></td><td><pre>keywords: #站点关键词，用“,”分隔</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>feed:</pre></td></tr><tr><td data-num="4"></td><td><pre>    limit: 20</pre></td></tr><tr><td data-num="5"></td><td><pre>    order_by: &quot;-date&quot;</pre></td></tr><tr><td data-num="6"></td><td><pre>    tag_dir: false</pre></td></tr><tr><td data-num="7"></td><td><pre>    category_dir: false</pre></td></tr><tr><td data-num="8"></td><td><pre>    rss:</pre></td></tr><tr><td data-num="9"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="10"></td><td><pre>        template: &quot;themes/shoka/layout/_alternate/rss.ejs&quot;</pre></td></tr><tr><td data-num="11"></td><td><pre>        output: &quot;rss.xml&quot;</pre></td></tr><tr><td data-num="12"></td><td><pre>    atom:</pre></td></tr><tr><td data-num="13"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="14"></td><td><pre>        template: &quot;themes/shoka/layout/_alternate/atom.ejs&quot;</pre></td></tr><tr><td data-num="15"></td><td><pre>        output: &quot;atom.xml&quot;</pre></td></tr><tr><td data-num="16"></td><td><pre>    jsonFeed:</pre></td></tr><tr><td data-num="17"></td><td><pre>        enable: true</pre></td></tr><tr><td data-num="18"></td><td><pre>        template: &quot;themes/shoka/layout/_alternate/json.ejs&quot;</pre></td></tr><tr><td data-num="19"></td><td><pre>        output: &quot;feed.json&quot;</pre></td></tr></table><div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div></div></figure>',22);function h(b,g){const d=i("RouterLink");return p(),s("div",null,[r("div",c,[r("p",null,[a(d,{to:"/computer-science/note/theme-shoka-doc/"},{default:e(()=>[t("🚀快速开始")]),_:1}),t(" - "),a(d,{to:"/computer-science/note/theme-shoka-doc/dependents/"},{default:e(()=>[u]),_:1}),t(" - "),a(d,{to:"/computer-science/note/theme-shoka-doc/config/"},{default:e(()=>[t("📌基本配置")]),_:1}),t(" - "),a(d,{to:"/computer-science/note/theme-shoka-doc/display/"},{default:e(()=>[t("🌈界面显示")]),_:1}),t(" - "),a(d,{to:"/computer-science/note/theme-shoka-doc/special/"},{default:e(()=>[t("🦄特殊功能")]),_:1})])]),m])}const k=n(o,[["render",h],["__file","d30922d5.html.vue"]]);export{k as default};
